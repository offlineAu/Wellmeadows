<!DOCTYPE html>
<html>
<head>
  <title>Patient Allocation</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- Bootstrap CSS -->
  <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
  <!-- Bootstrap Icons library -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
  <link href="https://fonts.googleapis.com/css?family=Montserrat" rel="stylesheet">
  <link rel="stylesheet" href="/static/patient-allocation.css">
</head>
<body>
  <main class="page allocation-page">
    <section class="allocation-form dark">
      <div class="container-fluid">
        <form id="wardAllocationForm" action="/submit-ward-allocation" method="post">
          <input type="hidden" name="formType" value="patientAllocation">
          <div class="block-heading">
            <h2>Patient Allocation</h2>
            <label for="weekBeginning">Week Beginning:</label>
            <input type="date" class="form-control" id="weekBeginning" name="weekBeginning">
          </div>
          <div class="details-container">
            <div class="details-column">
              <h3 class="title">
                Ward Number: 
                <select class="form-control" id="wardNumber" name="wardNumber">
                  <option></option>
                  <!-- Options will be populated dynamically -->
                </select>
              </h3>
              <h3 class="title">Ward Name: <span type="hidden" id="wardName" name="wardName"></span></h3>
              <h3 class="title">Location: <span type="hidden" id="location" name="location"></span></h3>
            </div>
            <div class="details-column">
              <h3 class="title">
                Charge Nurse: 
                <select class="form-control" id="chargeNurse" name="chargeNurse">
                  <option></option>
                  <!-- Options will be populated dynamically -->
                </select>
              </h3>
              <h3 class="title">Staff Number: <span id="staffNumber" name="staffNumber"></span></h3>
              <h3 class="title">Tel Extn: <span type="hidden" id="telExtn" name="telExtn"></span></h3>
            </div>
          </div>
          <div class="d-flex justify-content-end mb-2">
            <button type="button" class="btn btn-primary" id="add-row-btn">Add New Row</button>
          </div>
        </form>
        <form id="patientAllocationForm" action="/submit-patient-allocation" method="post">
          <input type="hidden" name="formType" value="patientAllocation">
          <table class="table table-bordered">
            <thead>
              <tr>
                <th>Patient Number</th>
                <th>Name</th>
                <th>On Waiting List</th>
                <th>Expected Stay (Days)</th>
                <th>Date Placed</th>
                <th>Date Leave</th>
                <th>Actual Leave</th>
                <th>Bed Number</th>
                <th>Action</th>
              </tr>
            </thead>
            <tbody id="patientTable">
              <!-- Rows will be added dynamically -->
            </tbody>
          </table>
          <div class="text-center mt-4">
            <button type="submit" class="btn btn-primary" id="patient-submit-btn">Submit</button>
          </div>
        </form>
      </div>
    </section>
  </main>
  <!-- Make sure your custom script is loaded last -->
  <script src="/static/index.js"></script>
  <script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
</body>
</html>
